rm(list=ls())
setwd("/Users/marinacostarillo/Google Drive/PhD/Projects")
setwd("./buckley-bias/analysis")
# Libraries
source("R/library.R")
# Auxiliary functions
sourceDirectory("./R/aux_functions", modifiedOnly=FALSE)
# General data
buckley_measurmts <- read.csv(file=c("data/buckley_measurmts.csv"), header = TRUE, stringsAsFactors = FALSE)
wands_df <- read.csv("data/Wandsworth_loans_MRillo.csv", header = TRUE, stringsAsFactors=FALSE)
resamples_df <- suppressWarnings(get_resamples_info(buckley_measurmts, wands_df, overwrite = T)) # creates: data/resample_info.csv & data/resample_info_morpho.csv
resamp_size_df <- read.csv("data/resample_info_size.csv", header = TRUE, stringsAsFactors=FALSE)
resamp_size_df
# Merges resample size data with Buckley's size data, creates files in data/bias_size_analysis
get_size_data(buckley_measurmts, resamp_size_df, overwrite = F)
# Merges csv files from bias_size_analysis into one data.frame: bias_size_analysis.csv
size_ind_df <- merge_size_data(overwrite = F)
size_pop_df <- get_size_pop_data(size_ind_df, overwrite = F) # summary statistics for each ssp population of size_ind_df
# Re-ordering the factors (species) to be phylogenetically meaningful in the plot (i.e. sister species closer in the plot)
# size_pop_df$species <- factor(size_pop_df$species, levels = c())
size_pop_df
names(size_pop_df)
unique(size_pop_df[which(size_pop_df[,"datasetAB"] == "A"), "sspname"])
size_pop_df[,"datasetAB"] == "A"
size_pop_df[which(size_pop_df[,"datasetAB"] == "A"),
]
data.frame(unique(size_pop_df[which(size_pop_df[,"datasetAB"] == "A"), "sspname"]))
data.frame(ssp_resample = unique(size_pop_df[which(size_pop_df[,"datasetAB"] == "A"), "sspname"]))
